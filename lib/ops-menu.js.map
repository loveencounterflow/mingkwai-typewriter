{
  "version": 3,
  "file": "ops-menu.js",
  "sourceRoot": "..",
  "sources": [
    "src/ops-menu.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = '明快打字机/OPS-MENU'\n# debug                     = CND.get_logger 'debug',     badge\n# alert                     = CND.get_logger 'alert',     badge\n# whisper                   = CND.get_logger 'whisper',   badge\n# warn                      = CND.get_logger 'warn',      badge\n# help                      = CND.get_logger 'help',      badge\n# urge                      = CND.get_logger 'urge',      badge\n# info                      = CND.get_logger 'info',      badge\nPD                        = require 'pipedreams'\nadd_context_menu          = require 'electron-context-menu'\n\n#-----------------------------------------------------------------------------------------------------------\n@show_or_hide_menu_bar = ->\n  w = @get_window()\n  w.setMenuBarVisibility not w.isMenuBarVisible()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@get_transcriptors_submenu = ->\n  R = []\n  for t, tsnr in S.transcriptors\n    do ( t, tsnr ) =>\n      if tsnr < 10 then   label = \"toggle &#{tsnr} [#{t.sigil}] #{t.display_name}\"\n      else                label = \"toggle #{tsnr} [#{t.sigil}] #{t.display_name}\"\n      click = => @insert_tsm tsnr, { toggle: true, }\n      R.push { label, click, }\n  for t, tsnr in S.transcriptors\n    do ( t, tsnr ) =>\n      if tsnr < 10 then   label = \"add &#{tsnr} [#{t.sigil}] #{t.display_name}\"\n      else                label = \"add #{tsnr} [#{t.sigil}] #{t.display_name}\"\n      click = => @insert_tsm tsnr, { toggle: false, }\n      R.push { label, click, }\n  return R\n\n#-----------------------------------------------------------------------------------------------------------\n@add_menu = ->\n  throw new Error \"µ37763 internal error: load transcriptors before adding menu\" unless S.transcriptors?\n  transcriptors_submenu = @get_transcriptors_submenu()\n  template              = []\n  @log \"µ39883 found #{S.transcriptors.length} entries in S.transcriptors\"\n  @log \"µ39883 transcriptors_submenu: #{rpr transcriptors_submenu}\"\n  #.........................................................................................................\n  template.push {\n    label: '&File'\n    submenu: [\n      { label: '&imagine',  click: ( -> alert 'a message for you' ), }\n      { label: '&Quit', role: 'close', accelerator: 'CmdOrCtrl+Q', } ] }\n  #.........................................................................................................\n  template.push {\n    label: '&Edit'\n    submenu: [\n      { role: 'undo'                }\n      { role: 'redo'                }\n      { type: 'separator'           }\n      { role: 'cut'                 }\n      { role: 'copy'                }\n      { role: 'paste'               }\n      { role: 'pasteandmatchstyle'  }\n      { role: 'delete'              }\n      { role: 'selectall'           } ] }\n  #.........................................................................................................\n  template.push {\n    label: '&View'\n    submenu: [\n      { role: 'reload'              }\n      { role: 'forcereload'         }\n      { role: 'toggledevtools'      }\n      { type: 'separator'           }\n      { role: 'resetZoom'           }\n      { role: 'zoomIn', accelerator: 'Ctrl+=',  }\n      { role: 'zoomOut',  }\n      # { role: 'zoomIn', accelerator: 'Ctrl+=',              }\n      # { role: 'zoomOut', accelerator: 'CmdOrCtrl+-', }\n      { type: 'separator'           }\n      { role: 'togglefullscreen'    } ] }\n  #.........................................................................................................\n  template.push {\n    label:  '&Transcriptors'\n    submenu: transcriptors_submenu }\n  #.........................................................................................................\n  template.push {\n    label: '&Help'\n    role: 'help',\n    submenu: [\n      { label: 'Learn More', click: ( => @open_homepage() ), } ] }\n  #.........................................................................................................\n  { Menu, } = ( require 'electron' ).remote\n  menu      = Menu.buildFromTemplate template\n  Menu.setApplicationMenu menu\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@add_context_menu = ->\n  ### TAINT see https://github.com/sindresorhus/electron-context-menu for format ###\n  add_context_menu {\n    prepend: ( defaultActions, params, browserWindow ) => [{\n      label: 'Rainbow',\n      # Only show it when right-clicking images\n      visible: params.mediaType is 'image'\n    }]\n    }\n  return null\n"
  ]
}