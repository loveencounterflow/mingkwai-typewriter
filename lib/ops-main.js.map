{
  "version": 3,
  "file": "ops-main.js",
  "sourceRoot": "..",
  "sources": [
    "src/ops-main.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = '明快打字机/OPS-MAKESHIFT'\ndebug                     = CND.get_logger 'debug',     badge\nalert                     = CND.get_logger 'alert',     badge\nwhisper                   = CND.get_logger 'whisper',   badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\ninfo                      = CND.get_logger 'info',      badge\nKEYS                      = require '../lib/keys'\n#...........................................................................................................\nrequire                   '../lib/exception-handler'\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@always_focus_editor = ->\n  ### TAINT this method inhibits selecting, copying text from logger, candidates ###\n  @always_focus_editor = -> ### do not add any more handlers with this method after first call ###\n  ( jQuery 'div.CodeMirror-code' ).on 'blur', -> @focus()\n  ( jQuery 'div.CodeMirror-code' ).focus()\n  return null\n\n\n#===========================================================================================================\n# FOCUSFRAME\n#-----------------------------------------------------------------------------------------------------------\n@toggle_focusframe = ->\n  if S.focus_is_candidates  then  @focusframe_to_editor()\n  else                            @focusframe_to_candidates()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@adjust_focusframe = ->\n  if S.focus_is_candidates  then  @focusframe_to_candidates()\n  else                            @focusframe_to_editor()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@focusframe_to_editor = ->\n  @_focusframe_to 'leftbar'\n  S.focus_is_candidates = false\n\n#-----------------------------------------------------------------------------------------------------------\n@focusframe_to_candidates = ->\n  @_focusframe_to 'rightbar'\n  S.focus_is_candidates = true\n\n#-----------------------------------------------------------------------------------------------------------\n@_focusframe_to = ( target ) ->\n  # target      = jQuery( document.activeElement )\n  target      = jQuery target if CND.isa_text target\n  ff          = jQuery 'focusframe'\n  return if target.length < 1\n  # ff.offset     target.offset()\n  # ff.width      target.width()\n  # ff.height     target.height()\n  tgto        = target.offset()\n  return unless tgto?\n  left    = tgto.left       - 1\n  top     = tgto.top        - 1\n  width   = target.width()  + 2\n  height  = target.height() + 2\n  ff.animate { left, top, width, height, }, 100\n  return null\n\n#===========================================================================================================\n# WINDOW\n#-----------------------------------------------------------------------------------------------------------\n@get_window = -> ( require 'electron' ).remote.getCurrentWindow()\n\n\n#===========================================================================================================\n# APP INITIALIZATION\n#-----------------------------------------------------------------------------------------------------------\n@init = ->\n  #.........................................................................................................\n  ### Initialize CodeMirror ###\n  S.codemirror.editor = CodeMirror.fromTextArea ( jQuery '#codemirror' )[ 0 ], S.codemirror.settings\n  S.codemirror.editor.setSize null, '100%'\n  @always_focus_editor()\n  KEYS.generate_keboard_events jQuery 'html'\n  #.........................................................................................................\n  await @load_transcriptors()\n  await @add_menu()\n  #.........................................................................................................\n  await @set_codemirror_keybindings()\n  await @set_codemirror_event_bindings()\n  await @set_app_keybindings()\n  await @set_xe_event_bindings()\n  await @set_dom_event_bindings()\n  #.........................................................................................................\n  await @focusframe_to_editor()\n  await @dbg_set_debugging_globals()\n  # await @dbg_list_all_css_classes_in_document()\n  # await @cm_select_all()\n  #.........................................................................................................\n  await @restore_documents()\n  await @focusframe_to_editor()\n  #.........................................................................................................\n  return null\n\n\n\n\n"
  ]
}