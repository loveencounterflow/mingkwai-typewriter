{
  "version": 3,
  "file": "ops-bindings.js",
  "sourceRoot": "..",
  "sources": [
    "src/ops-bindings.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\n# CND                       = require 'cnd'\n# rpr                       = CND.rpr\n# badge                     = '明快打字机/OPS-BINDINGS'\n# debug                     = CND.get_logger 'debug',     badge\n# alert                     = CND.get_logger 'alert',     badge\n# whisper                   = CND.get_logger 'whisper',   badge\n# warn                      = CND.get_logger 'warn',      badge\n# help                      = CND.get_logger 'help',      badge\n# urge                      = CND.get_logger 'urge',      badge\n# info                      = CND.get_logger 'info',      badge\nPD                        = require 'pipedreams'\nKEYS                      = require './keys'\nXE                        = require './xemitter'\n\n\n#===========================================================================================================\n# KEY BINDINGS\n#-----------------------------------------------------------------------------------------------------------\n@_cm_keymap_move = ( cm, editor_method_name, candidates_method ) ->\n  try\n    return CodeMirror.commands[ editor_method_name ] cm unless S.focus_is_candidates\n    return candidates_method.apply @\n  catch error\n    alert \"when trying to call `CodeMirror.commands.#{editor_method_name}`, an error was thrown\"\n    throw error\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n### TAINT the defaults for cursor moves are taken from\n* public/codemirror/src/edit/commands.js\n* public/codemirror/keymap/sublime.js\nit would be advantageous to derive them somehow from the source or the running instance\n###\n@move_right         = ( cm ) -> @_cm_keymap_move cm, 'goCharRight', => @_select_delta_candidate { lnr: +1, }\n@move_left          = ( cm ) -> @_cm_keymap_move cm, 'goCharLeft',  => @_select_delta_candidate { lnr: -1, }\n@move_nxtline_first = ( cm ) -> @_cm_keymap_move cm, 'defaultTab',  => @_select_delta_candidate { lcol: 'first', lrow: +1, }\n@move_prvline_first = ( cm ) -> @_cm_keymap_move cm, 'indentLess',  => @_select_delta_candidate { lcol: 'first', lrow: -1, }\n@move_up            = ( cm ) -> @_cm_keymap_move cm, 'goLineUp',    => @log '######### move_up'\n@move_down          = ( cm ) -> @_cm_keymap_move cm, 'goLineDown',  => @log '######### move_down'\n@move_to_home       = ( cm ) -> @_cm_keymap_move cm, 'goLineStartSmart', => @_select_delta_candidate { lrow: 0, lcol: 'first', }\n@move_to_end        = ( cm ) -> @_cm_keymap_move cm, 'goLineEnd',  => @_select_delta_candidate { lrow: 0, lcol: 'last',  }\n\n#-----------------------------------------------------------------------------------------------------------\n@set_codemirror_keybindings = ->\n  mktw_keymap =\n    'Left':         ( cm ) => @move_left                        cm\n    'Right':        ( cm ) => @move_right                       cm\n    'Up':           ( cm ) => @move_up                          cm\n    'Down':         ( cm ) => @move_down                        cm\n    'Tab':          ( cm ) => @move_nxtline_first               cm\n    'Shift-Tab':    ( cm ) => @move_prvline_first               cm\n    'Home':         ( cm ) => @move_to_home                     cm\n    'End':          ( cm ) => @move_to_end                      cm\n    'Space':        ( cm ) => @select_candidate_or_insert_space cm\n    'Ctrl-M':       ( cm ) => @cm_jump_to_tsr_or_bracket()\n    'Shift-Ctrl-M': ( cm ) => @cm_mark_tsr_or_bracket()\n    'Ctrl-0':       ( cm ) => @cm_set_tsrs 0\n    'Ctrl-1':       ( cm ) => @cm_set_tsrs 1\n    'Ctrl-2':       ( cm ) => @cm_set_tsrs 2\n    'Ctrl-3':       ( cm ) => @cm_set_tsrs 3\n    'Ctrl-4':       ( cm ) => @cm_set_tsrs 4\n  #.........................................................................................................\n  S.codemirror.editor.addKeyMap mktw_keymap\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@set_codemirror_event_bindings = ->\n  S.codemirror.editor.on 'cursorActivity', ( cm ) => @emit_transcribe_event() unless @is_frozen()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@set_app_keybindings = ->\n  KEYS.bind 'alt',      @, @show_or_hide_menu_bar\n  KEYS.bind 'shift',    @, @toggle_focusframe\n  KEYS.bind 'ctrl+s',   @, @save_document\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@set_xe_event_bindings = ->\n  XE.listen_to_all                      @, @log_almost_all_events\n  XE.listen_to '^candidates',           @, @display_candidates\n  XE.listen_to '^replace-text',         @, @on_replace_text\n  XE.listen_to '^window-resize',        @, @index_candidates\n  XE.listen_to '^window-resize',        @, @adjust_focusframe\n  XE.listen_to '^transcribe',           @, @dispatch_transcribe_event\n  XE.listen_to '^open-document',        @, @format_tsr_marks\n\n#-----------------------------------------------------------------------------------------------------------\n@set_dom_event_bindings = ->\n  ### TAINT won't work when panes are shifted (probably) ###\n  ( jQuery window ).on 'resize', => XE.emit PD.new_event '^window-resize'\n\n\n\n\n"
  ]
}